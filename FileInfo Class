import java.io.File;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.attribute.*;
import java.text.DecimalFormat;

public class FileInfo {

    private String name;
    private long size;
    private FileTime creationTime;
    private String createdBy;

    public FileInfo(File file) {
        this.name = file.getName();
        this.size = file.length();
        this.creationTime = getCreationTime(file.toPath());
        this.createdBy = getCreatedBy(file.toPath());
    }

    private FileTime getCreationTime(Path path) {
        try {
            BasicFileAttributeView view = Files.getFileAttributeView(path, BasicFileAttributeView.class);
            BasicFileAttributes attributes = view.readAttributes();
            return attributes.creationTime();
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }

    private String getCreatedBy(Path path) {
        try {
            FileOwnerAttributeView ownerView = Files.getFileAttributeView(path, FileOwnerAttributeView.class);
            UserPrincipal owner = ownerView.getOwner();
            return owner.getName();
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }

    @Override
    public String toString() {
        double sizeInMB = (double) size / (1024 * 1024);
        DecimalFormat df = new DecimalFormat("#.##");
        String formattedSize = df.format(sizeInMB);
        return "Name: " + name + "\nSize: " + formattedSize + " MB\nCreation Time: " +
                creationTime + "\nCreated By: " + createdBy + "\n";
    }
}
